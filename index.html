<!DOCTYPE html>
<html lang="es">
	<head>
		<title>Reproduccion de Video</title>
		<link rel="stylesheet" href="video.css">
		<script src="video.js"></script>
	</head>
	<body>
		<section id="reproductor">
			<div id="mascara" width="720" height="400"><img src="icon-play.png" id="icon-play"></div>
			<video id="medio" width="720" height="400" poster="monster.png" preload="none">
				<source src="1.mp4">
			</video>
			<nav>
				<div class="botones">
					<button type="button" id="reproducir">Reproducir</button> 
				</div>
				<div id="barra">
					<div id="progreso"></div>
					<div id="porcentaje">0%</div>
				</div>
				<div class="botones">
					<input type="range" id="volumen" min="0" max="1" step="0.00001" value="1">
				</div>
				<div style="clear:both"></div>
			</nav>
		</section>
		<section id="logo">
			<span class="texto" id="texto">A</span>
		</section>
	</body>
</html>
<!DOCTYPE html>
<html lang="es">
	<head>
		<title>Reproduccion de Audio</title>
		<link rel="stylesheet" href="video.css">
		<script src="video.js"></script>
	</head>
	<body>
		<section id="reproductor">
			<div id="mascara" style="position:relative"><img src="icon-play.png" id="icon-play"></div>
			<audio id="medio">
				<source src="music.mp3">
			</audio>
			<nav>
				<div class="botones">
					<button type="button" id="reproducir">Reproducir</button>
				</div>
				<div id="barra">
					<div id="progreso"></div>
					<div id="porcentaje">0%</div>
				</div>
				<div class="botones">
					<input type="range" id="volumen" min="0" max="1" step="0.00001" value="1">
				</div>
				<div style="clear:both"></div>
			</nav> 
		</section>
		<section id="logo">
			<span class="texto">A</span>
		</section>
		<script>
			function iniciar(){
	maximo=600;
	medio=document.getElementById('medio');
	reproducir=document.getElementById('reproducir');
	barra=document.getElementById('barra');
	progreso=document.getElementById('progreso');
	mascara=document.getElementById('mascara');
	porcentaje=document.getElementById('porcentaje');

	reproducir.addEventListener('click', presionar, false);
	barra.addEventListener('click', mover, false)
	medio.addEventListener('click', presionar, false);
	mascara.addEventListener('click', presionar, false);
}

function presionar(){
	if(!medio.paused && !medio.ended){
		medio.pause();
		reproducir.innerHTML='Reproducir';
		mascara.style.display='block';
		window.clearInterval(bucle);
	}
	else{
		medio.play();
		mascara.style.display='none';
		reproducir.innerHTML='Pausa';
		bucle=setInterval(estado, 1000);
	}
}

function estado(){
	if(!medio.ended){
		var total=parseInt(medio.currentTime*maximo/medio.duration);
		progreso.style.width=total+'px';
		aprox=total*100/600;
		real=parseInt(aprox)+1;
		porcentaje.innerHTML=real+'%';
	}
	else
	{
		progreso.style.width='0px';
		reproducir.innerHTML='Reproducir';
		porcentaje.innerHTML='0%';
		mascara.style.display='block';
		window.clearInterval(bucle);
	}
}

function mover(e){
	if(!medio.paused && !medio.ended){
		var ratonX=e.pageX-barra.offsetLeft;
		var nuevoTiempo=ratonX*medio.duration/maximo;

		medio.currentTime=nuevoTiempo;

		progreso.style.width=ratonX+'px';

		aprox=ratonX*100/600;
		real=parseInt(aprox)+1;
		porcentaje.innerHTML=real+'%';
	}
}

window.addEventListener('load',iniciar, false)
		</script>
	</body>
</html>
